@import "styles/variables.css";
@import "styles/mixins.css";

:root {
  --buttonColor: #666666;
}

@define-mixin base-button {
  outline: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
  white-space: pre;
  user-select: none;
  position: relative;
  line-height: normal;
  text-overflow: clip;
  box-sizing: content-box;
  font-family: var(--mainFont);
  transition: all .15s ease-in-out;
  &:disabled {
    cursor: default;
    pointer-events: none;
  }
}

@define-mixin iconic-button {
  @mixin flex-inline;
  @mixin border;
  @mixin base-button;
  padding: 0.375rem 0.75rem;
}

@define-mixin circle {
  top: 0px;
  left: 0px;
  z-index: -1;
  content: "";
  width: 100%;
  height: 100%;
  display: block;
  border-radius: 50%;
  position: absolute;
  box-sizing: border-box;
  background-color: transparent;
}

@define-mixin round-button $color: var(--buttonColor) {
  @mixin base-button;
  z-index: 1;
  margin: 10px;
  border: none;
  min-width: 2rem;
  min-height: 2rem;
  border-radius: 50%;
  color: color($color lightness(50%));
  background-color: color($color a(0%));
  &:hover:not(:disabled) {
    color: color($color contrast(50%));
    background-color: color($color a(20%));
  }
  &:active, &:focus {
    color: color($color contrast(100%));
    background-color: color($color lightness(-15%));
  }
  &:disabled {
    @mixin disabled-text $color;
  }
  &:after {
    @mixin circle;
  }
}

@define-mixin clear-button $color: var(--colorPrimary) {
  @mixin base-button;
  border: none;
  background: transparent;
  color: color($color a(50%));
  &:disabled {
    color: color($color contrast(100%));
    text-shadow: 0 -1px 0 color($color contrast(50%));
  }
  &:hover:not(:disabled) {
    color: color($color a(80%));
  }
  &:active, &:focus {
    color: $color;
  }
}

@define-mixin button $color: var(--colorPrimary) {
  @mixin iconic-button;
  background-color: $color;
  color: color($color contrast(90%));
  border-color: color($color lightness(-10%));
  &:hover:not(:disabled) {
    color: color($color contrast(100%));
    background-color: color($color blackness(10%));
    border-color: color($color lightness(-15%));
  }
  &:active, &:focus {
    color: color($color contrast(100%));
    background-color: color($color lightness(-15%));
    border-color: color($color lightness(-25%));
    box-shadow: 0 0 0 1px color($color lightness(-5%));
  }
  &:disabled {
    color: color($color lightness(90%));
    border-color: color($color lightness(85%));
    background-color: color($color lightness(90%));
    text-shadow: -1px -1px color($color lightness(75%)), 1px 1px color($color lightness(95%));
  }
  & :--icon {
    @mixin icon;
    margin-right: 0.25rem;
  }
}

@define-mixin checkbox-button $color: inherit {
  @mixin flex-inline;
  & input[type="checkbox"] {
    display: none;
  }
  & input[type="checkbox"] + label {
    @mixin flex-inline;
    @mixin round-button;
    font-family: var(--iconFont);
  }
  & input[type="checkbox"]:checked + label {
    @mixin engraved $color;
    color: color($color contrast(100%));
  }
}

:local(.checkbox-buttons) {
  @mixin checkbox-button var(--buttonColor);
}

:local(.round-button) {
  @mixin round-button var(--buttonColor);
  font-family: var(--iconFont);
}

